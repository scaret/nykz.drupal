
SET(WWWNAME "bbswww")

AUX_SOURCE_DIRECTORY(. PAGES_SRC)
SET_SRC_FILE_G_LOG_DOMAIN("${WWWNAME}/" "${PAGES_SRC}")
INCLUDE_DIRECTORIES(AFTER ../ ../modules )

#FOREACH(PAGE ${PAGES_SRC})
	#STRING(REGEX MATCH "[bbsA-Za-z0-9_-]+" LIBNAME ${PAGE})
	#MESSAGE(STATUS "add page ${PAGE} as ${LIBNAME}")
	#ADD_LIBRARY(${LIBNAME} SHARED ${PAGE})
	#SET_TARGET_PROPERTIES(${LIBNAME} PROPERTIES COMPILE_FLAGS "${GLIB_CFLAG}")
	#INSTALL(TARGETS ${LIBNAME} LIBRARY DESTINATION pages)
#ENDFOREACH(PAGE ${PAGES_SRC})
ADD_LIBRARY(${WWWNAME} MODULE ${PAGES_SRC})
SET_TARGET_PROPERTIES(${WWWNAME} PROPERTIES COMPILE_FLAGS "${GLIB_CFLAG}")
INSTALL(TARGETS ${WWWNAME} LIBRARY DESTINATION pages)
